---
title: 计算机网络 知识点
date: 2024-10-15 20:33:28
layout: post
categories: [计算机网络 知识点整理]
tags: [计算机网络]
comments: true
cover: /img/computer-network-logo.png
description: 计算机网络 整理知识点
---



# 1. HTTP 

## 常见的 HTTP 状态码有哪些？

http状态码主要包括五类：

第一类为 1xx：表示信息，例如 103 表示缓存预热。

第二类为 2xx：一般表示请求成功，例如常见的 200。

第三类为 3xx：表示重定向。

第四类为 4xx：表示客户端错误，例如 404。

第五类为 5xx：表示服务器错误。



## HTTP 请求包含哪些内容，请求头和请求体有哪些类型？

**HTTP 请求由以下机构部分组成：**

- **请求头（Request Headers）**：包含各种键值对，用于传递客户端环境、请求内容、认证信息等。
- **请求行（Request Line）**：包含请求方法（如GET、POST）、请求的资源路径（如 **`/index.html`**）、以及HTTP协议版本（如：HTTP/1.1）。
- **空行（Blank Line）**：用于分隔请求头和请求体。
- **请求体（Request Body**）：仅在 POST、PUT等方法中存在，包含需要发送到服务器的数据。

**常见的请求头类型：**

- **通用头部（General Headers）**：适用于请求和响应，如 **`Cache-ControlQ、Connection`**等。
- **请求头部（Request Headers）**：特定于请求的头部，如 **`Host、User-Agent、Accept、Authorization`**等。
- **实体头部（Entity Headers）**：描述请求体的头部，如 **`Content-Type、Content-Length`**。

**请求体的类型：**

- **表单数据（Form Data）**：**`application/x-www-form-urlencoded`**，用于提交表单数据。
- **多部分数据（Multipart Data）**：**`multipart/form-data`**，用于上传文件或复杂表单数据。
- **JSON数据**：**`application/json`**，用于提交 JSON 格式数据。
- **XML数据**：**`application/xml`**，用于提交 XML 格式的数据。
- **文本数据**：**`text/plain`**，用于提交纯文本数据。

> 扩展知识：
>
> **请求方式：**
>
> - **GET**：请求指定的路径，通常用于获取数据，不包含请求体。
> - **POST**：向服务器提交数据，通常用于表单提交，数据在请求体中。
> - **PUT**：用于更新资源，数据也在请求体中。
> - **DELETE：**请求删除指定资源。
>
> **请求头部：**
>
> - Host：请求指定的主机名及端口，HTTP/1.1 中必须包含。
> - User-Agent：标识客户端信息，通常用于服务器端的统计和个性化服务。
> - Accept：指定客户端可接受的媒体类型，服务器可以根据此头部返回合适的内容。
> - Authorization：用于身份验证。包含凭证信息，如 **`Basic 或 Bearer`** token。
>
> **请求体：**
>
> - application/x-www-form-urlencoded：键值对形式的表单数据，通常用在简单表单提交。
> - multipart/form-data：处理复杂表单，包含文件上传，内容按边界分割。
> - 自定义数据格式：根据 API 需求，可能需要提交 XML、JSON、甚至是二进制数据。不同的 Conent-Type 可以标识不同数据格式。
>
> **性能与安全：**
>
> - **缓存机制：**通常 Cache-Control 和 ETag 等头部，客户端和服务器可以有效管理缓存，减少不必要的请求。
> - 压缩：Content-Encoding 头部可以指定压缩方式，如 gzip，以减少数据传输。
> - 安全性：Authorization 和 Cookie 等头部涉及身份验证和会话管理，应注意保护敏感信息，防止中间人攻击等安全威胁。



## 除了四次挥手，还有什么方法断开连接？

- RST (Reset)标志：

使用 TCP  RST 标志可以强制立即终止连接。发送方可以直接发送带有 RST 标志的 TCP 报文，通知对方立即断开连接。

- 超时（Timeout）：

如果连接一段时间内没用任何数据包传输，连接双方可以依据设定的超时时间自动断开连接。

> 扩展知识：
>
> RST 的应用场景：
>
> - 异常关闭：当遇到程序异常或攻击时，RST 可用于立即中止连接，不经过正常的四次挥手。例如，在入侵检测系统中，RST 可用于主动切断可疑连接。
> - 防火墙：有些防火墙或安全设备都会通过发送 RST 来强制终止不允许的连接。



## HTTP 和 HTTPS 有什么区别？

1. 数据传输安全性：

- HTTP：数据以明文传输，容易被窃听、篡改。
- HTTPS：通过 SSL/TLS 协议对数据进行加密传输，提供数据机密性和完整性保障。

2. 端口号：

- HTTP：默认使用端口 80。
- HTTPS：默认使用端口 443。

3. 性能：

- HTTP：无加密过程，连接建立速度稍快。
- HTTPS：基于 HTTP 上又加了 SSL （Secure Sockets Layer）或 TLS（Transport Layzer Security）协议来实现的加密传输解密过程增加了计算开销，握手时间较长，但现代硬件和协议优化已使性能差距减小.

4. SEO 影响:

- HTTP: 搜索引擎一般会降低未加密站点的排名.
- HTTPS: 搜索引擎更倾向于优先展示 HTTPS 网站.



------



# TCP 和 UDP

## 到底什么是TCP连接？

根据 RFC793 定义，TCP的连接就是：TCP 为每个数据流初始化并维护的某些状态信息（这些信息包括 socket、序列号 和 窗口大小），称为连接。

这些信息主要是为了实现可靠性和流量控制机制。

所以，TCP所谓的是，面向连接的并不是真的拉了一条线让端与端之间连起来，只是双方都维护了一个状态，通过每一次通信来维护状态的变更，使得看起来好像有一条线关联了对方。



## TCP 是用来解决什么问题?

TCP （Transmission Control Protocol）通过提供可靠传输、流量控制、拥塞控制和连接管理，解决了数据在不可靠的 IP 网络上的传输问题：

- 可靠性传输：TCP 确保数据包在网络传输过程中不丢失、不重复，并且按顺序到达。通过确认（ACK）、重传机制以及序列号，TCP 能够保证数据在不可靠的 IP 网络上可靠传输。
- 流量控制：TCP 通过滑动窗口机制调节发送方的数据发送速率，防止接收方因为处理能力有限而被数据流淹没。
- 拥塞控制：TCP 通过拥塞避免算法（如慢启动、拥塞避免、快速重传和快速恢复）来防止网络过载，确保网络资源的公平使用和稳定性。
- 连接管理：TCP 是面向连接的协议，采用三次握手（建立连接）和四次挥手（断开连接）机制来管理会话，确保通信的可靠性和状态的同步.



## TCP 和 UDP 有什么区别?

TCP 提供了可靠、面向连接的传输，适用于需要数据完整性和顺序的场景；

UDP 提供了更轻量、面向报文的传输，适用于实时性要求高的场景。

主要可以从五个方面看待不同：

1. 连接性：

- TCP：面向连接的协议。通信前需要建立连接（三次握手），通信结束后需要断开连接（四次挥手）。
- UDP：无连接的协议，不需要建立连接，直接发送数据包。

2. 可靠性：

- TCP：可靠传输协议，通过确认机制、重传机制、序列号、流量控制 和 拥塞控制 确保数据不丢失、不重复、按顺序到达。
- UDP：不可靠传输协议，不提供确认和重传机制，数据包可能丢失、重复或乱序。

3. 数据传输方式：

- TCP：面向字节流的协议。数据作为一个连续的流传输，可以按需分片和重组。
- UDP：面向报文的协议。数据作为独立的报文（数据包）传输，保留了应用层的消息边界。

4. 性能：

- TCP：由于需要连接建立、确认和重传机制，传输速度相对较慢，但提供了可靠性。
- UDP：传输速度快，因为没用连接建立和维护的开销，也没用确认和重传机制。

5. 应用场景：

- TCP：适用于需要可靠传输的应用，如网页浏览（HTTP/HTTPS）、文件传输（FTP）、电子邮件（SMTP/IMAP）等。
- UDP：适用于对速度要求高但对可靠性要求不高的应用，如视频直播，在线游戏、DNS查询等。

​                                                                                                                                                                                         

## 为什么要 TCP，IP 层实现控制不行吗？

> IP 层对应的传输过程，存在路由的过程，会经过多个路由设备（不仅仅时，发送和接受两端的设备）。这样子的话，如果要把传输控制的内容加在 IP 层，那么中间的路由设备上都要关系这个传输控制，会明显降低传输效率，也会增加传输控制的复杂性。
>
> 所以，在 IP 层上面加一层 TCP 层，专门复测对端的传输控制逻辑，效率会更高一些。

主要是为了分层架构设计的灵活性和可扩展性。

IP 层负责数据包的路由 和 传输，而TCP提供传输层可靠性服务，这种分离使得网络协议更加灵活和可扩展。

基于 IP 层，如果需要可靠性服务，那么上层可以使用 TCP 协议，如果不需要可靠性服务，对实时性要求较高，且允许一定程度的数据丢失，可以使用 UDP。

所以，这样设计可以在 IP 层之上构建其他传输协议（如 UDP、SCTP）,**为不同应用提供更合适的传输服务，而无需修改 IP 层实现。**

并且，一条数据在网络上传输需要经过很多设备，而设备之间需要靠 IP 层实现了控制，那么整体传输的效率会大打折扣，这样整体通信的信息都会变差。



​    

